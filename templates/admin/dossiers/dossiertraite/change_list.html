{% extends "admin/change_list.html" %}
{% load i18n admin_urls static admin_list %}

{% block object-tools-items %}
    {{ block.super }}
    <li>
        <a href="{% url 'admin:dossiers_dossiertraite_import_excel' %}" class="addlink">
            📥 Importer Excel
        </a>
    </li>
    <li>
        <a href="{% url 'admin:dossiers_dossiertraite_export_excel' %}" class="addlink">
            📤 Exporter Excel
        </a>
    </li>
    <li>
        <a href="{% url 'admin:dossiers_dossiertraite_bulk_edit' %}" class="addlink">
            ✏️ Modification en masse
        </a>
    </li>
    <li>
        <a href="{% url 'admin:dossiers_dossiertraite_statistics' %}" class="addlink">
            📊 Statistiques
        </a>
    </li>
{% endblock %}

{% block content %}
    <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
        <h3>Actions rapides pour les dossiers traités</h3>
        <p>
            <strong>Total des dossiers :</strong> {{ cl.queryset.count }} |
            <strong>Avec avis :</strong> {{ cl.queryset.filter.avis_commission__isnull=False|length }} |
            <strong>Sans avis :</strong> {{ cl.queryset.filter.avis_commission__isnull=True|length }}
        </p>
        <p>
            <a href="{% url 'admin:dossiers_dossiertraite_import_excel' %}" class="button" style="background: #4caf50; color: white; padding: 8px 16px; text-decoration: none; border-radius: 4px; margin-right: 10px;">
                📥 Importer depuis Excel
            </a>
            <a href="{% url 'admin:dossiers_dossiertraite_export_excel' %}" class="button" style="background: #2196f3; color: white; padding: 8px 16px; text-decoration: none; border-radius: 4px; margin-right: 10px;">
                📤 Exporter vers Excel
            </a>
            <a href="{% url 'admin:dossiers_dossiertraite_bulk_edit' %}" class="button" style="background: #ff9800; color: white; padding: 8px 16px; text-decoration: none; border-radius: 4px; margin-right: 10px;">
                ✏️ Modification en masse
            </a>
            <a href="{% url 'admin:dossiers_dossiertraite_statistics' %}" class="button" style="background: #9c27b0; color: white; padding: 8px 16px; text-decoration: none; border-radius: 4px;">
                📊 Voir les statistiques
            </a>
        </p>
    </div>
    
    {{ block.super }}
{% endblock %} 